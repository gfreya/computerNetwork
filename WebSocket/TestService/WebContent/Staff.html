<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class ="top">
		<div class ="top_content">Welcome To Chat Room</div>
	</div>
	<div class ="container">
		<div id ="container_left">群聊消息显示</div>
		<div class ="container_right">
			<span>备忘录</span>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<br/>
			<img src="C:\Users\guoqy\Desktop\1.jpg" width="130px" height="150px"  style="margin-left:135px">
			<div id="nametext"></div>
		</div>
	</div>
	<div class ="footer">
		<input type = "text" id="text_field">
		<input type = "button" value="发送" id = "button" onclick = "sendmsg()">
	</div>
	<script type="text/javascript">
	 var socket = new WebSocket("ws://localhost:8080/TestService/websocket/chat");
     //2. 注册一个事件	
    
     socket.onmessage = function(message)
     {	      	
    	        if(decodeURI(message.data).substring(0, 3)!= "102"){
	     		document.getElementById("container_left").innerHTML = document.getElementById("container_left").innerHTML + "<br/>"+message.data;
    	        }
     }  
   
     
     //3.定义发送消息的函数
     
     

    function sendmsg(){
    	 socket.send(document.getElementById("text_field").value);
    	 document.getElementById("text_field").value = "";
     }    
    document.onkeydown = function(e){
 	   if(!e){
 	    e = window.event;
 	   }
 	   if((e.keyCode || e.which) == 13){
 	    sendmsg();
 	   }
 	  }
	</script>
</body>
</html>